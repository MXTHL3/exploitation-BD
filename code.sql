create table PROPRIO (
    IdP number(10),
    Nom varchar2(15),
    Prenom varchar2(15),
    constraint pk_IdP primary key(IdP));    
    
create table BIEN (
    IdEBien number(10),
    Categorie varchar2(15),
    Type_ varchar2(6),
    IdP number(10),
    Ville varchar2(45),
    Prix number(1000000),
    constraint pk_IdEBien primary key(IdEBien),
    constraint fk_IdP foreign key (IdP) references PROPRIO(IdP));
    
create table ESPACE (
    IdE number(10),
    Designation varchar2(50),
    Superficie number(100),
    IdERattach number(4),
    constraint pk_IdE primary key(IdE),
    constraint fk_IdERattach foreign key(IdERattach) references BIEN(IdEBien));

insert into PROPRIO (IdP,Nom,Prenom)
values
(25,'Guédès','Alexandre'),
(29,'Jaidoux','Alexis'),
(35,'de Boute','Maël'),
(53,'Séjourné','Mathis')
(61,'Gouache','Victor');

insert into BIEN (IdEBien,Categorie,Type_,IdP,Ville,Prix)
values
(110,'Appartement','T4',25,'Marseille',80000),
(117,'Appartement','Studio',29,'Marseille',90000),
(171,'Appartement','T1',35,'Paris',250000),
(192,'Appartement','T1',35,'Paris',340000),
(945,'Maison de ville','T8',53,'Nice',280000),
(227,'Appartement','T3',61,'Nice',130000),
(238,'Villa','T7',61,'Nice',170000);

insert into ESPACE (IdE,Designation,Superficie,IdERattach)
values
(1,'Salon',15,110),
(4,'Cuisine',7,110),
(2,'Salle de bain',5,110),
(3,'Chambre',8,110),
(1,'Pièce à vivre',30,117),
(1,'Pièce à vivre',12,171),
(1,'Pièce à vivre',15,192),
(1,'Salon',20,945),
(4,'Cuisine',8,945),
(3,'Chambres',30,945),
(2,'Salle de bain',6,945),
(1,'Salon',10,227),
(3,'Chambres',20,227),
(2,'Salle de bain',5,227),
(1,'Salon',15,238), 
(4,'Cuisine',10,238),
(2,'Salle de bain',10,238),
(3,'Chambres',25,238);


select count(distinct Categorie) 
and count(distinct Type_)
from BIEN;

select IdE,Designation
from ESPACE
join BIEN
on ESPACE.IdERattach=BIEN.IdEBien
where IdERattach=945;

select IdP,Nom,Prenom
from PROPRIO


